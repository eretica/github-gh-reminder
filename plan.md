# Pull Request Reminder - è¨­è¨ˆæ›¸

## 1. æ¦‚è¦

GitHub CLIï¼ˆghï¼‰ã‚’åˆ©ç”¨ã—ã¦ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚ŒãŸPull Requestã‚’é€šçŸ¥ãƒ»ãƒªãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹Electronãƒˆãƒ¬ã‚¤ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

### 1.1 ç›®çš„

- ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã«æŒ‡å®šã•ã‚ŒãŸPRã‚’è¦‹é€ƒã•ãªã„
- å®šæœŸçš„ãªãƒªãƒã‚¤ãƒ³ãƒ‰ã§æœªãƒ¬ãƒ“ãƒ¥ãƒ¼PRã‚’å¿˜ã‚Œãªã„
- è¤‡æ•°ãƒªãƒã‚¸ãƒˆãƒªã‚’ä¸€å…ƒç®¡ç†

### 1.2 å‰ææ¡ä»¶

- GitHub CLIï¼ˆghï¼‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»èªè¨¼æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨
- macOS / Windows / Linuxå¯¾å¿œ

---

## 2. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ç”¨é€” |
|---------|------|------|
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ | pnpm | é«˜é€Ÿãªä¾å­˜é–¢ä¿‚ç®¡ç† |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Electron | ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒª |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | Electron Vite | é–‹ç™ºãƒ»ãƒ“ãƒ«ãƒ‰ |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚° | Electron Builder | é…å¸ƒç”¨ãƒ“ãƒ«ãƒ‰ |
| è¨€èª | TypeScript | å‹å®‰å…¨ãªé–‹ç™º |
| UI | React + TailwindCSS | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ |
| ORM | Drizzle | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ |
| DB | better-sqlite3 | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ä¿å­˜ |

---

## 3. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Electron App                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Main Process     â”‚        Renderer Process           â”‚
â”‚                     â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Tray Manager  â”‚  â”‚  â”‚      React Application      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                             â”‚  â”‚
â”‚                     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚è¨­å®šç”»é¢ â”‚ â”‚ PRä¸€è¦§    â”‚  â”‚  â”‚
â”‚  â”‚ Scheduler     â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚ (PR Check)    â”‚  â”‚  â”‚                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         IPC Communication        â”‚
â”‚  â”‚ Notifier      â”‚â—„â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚                     â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚  â”‚ GH CLI Exec   â”‚  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â”‚                     â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                   â”‚
â”‚  â”‚ SQLite (DB)   â”‚  â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### 4.1 ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

#### repositoriesï¼ˆãƒªãƒã‚¸ãƒˆãƒªè¨­å®šï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | TEXT (PK) | UUID |
| path | TEXT | ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‘ã‚¹ |
| name | TEXT | ãƒªãƒã‚¸ãƒˆãƒªåï¼ˆè¡¨ç¤ºç”¨ï¼‰ |
| enabled | INTEGER | æœ‰åŠ¹/ç„¡åŠ¹ (0/1) |
| order | INTEGER | è¡¨ç¤ºé †åºï¼ˆD&Dç”¨ï¼‰ |
| created_at | TEXT | ä½œæˆæ—¥æ™‚ |
| updated_at | TEXT | æ›´æ–°æ—¥æ™‚ |

#### settingsï¼ˆã‚¢ãƒ—ãƒªè¨­å®šï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| key | TEXT (PK) | è¨­å®šã‚­ãƒ¼ |
| value | TEXT | è¨­å®šå€¤ï¼ˆJSONï¼‰ |

#### pull_requestsï¼ˆPRæƒ…å ±ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | TEXT (PK) | UUID |
| repository_id | TEXT (FK) | ãƒªãƒã‚¸ãƒˆãƒªID |
| pr_number | INTEGER | PRç•ªå· |
| title | TEXT | PRã‚¿ã‚¤ãƒˆãƒ« |
| url | TEXT | PR URL |
| author | TEXT | ä½œæˆè€… |
| created_at | TEXT | PRä½œæˆæ—¥æ™‚ |
| first_seen_at | TEXT | åˆã‚ã¦æ¤œå‡ºã—ãŸæ—¥æ™‚ |
| notified_at | TEXT | æœ€å¾Œã«é€šçŸ¥ã—ãŸæ—¥æ™‚ |
| last_reminded_at | TEXT | æœ€å¾Œã«ãƒªãƒã‚¤ãƒ³ãƒ‰ã—ãŸæ—¥æ™‚ |

#### notification_historyï¼ˆé€šçŸ¥å±¥æ­´ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | TEXT (PK) | UUID |
| pr_id | TEXT (FK) | PR ID |
| type | TEXT | é€šçŸ¥ã‚¿ã‚¤ãƒ— (new/remind) |
| notified_at | TEXT | é€šçŸ¥æ—¥æ™‚ |

### 4.2 Drizzle ã‚¹ã‚­ãƒ¼ãƒ

```typescript
// src/main/db/schema.ts
import { sqliteTable, text, integer } from 'drizzle-orm/sqlite-core';

export const repositories = sqliteTable('repositories', {
  id: text('id').primaryKey(),
  path: text('path').notNull(),
  name: text('name').notNull(),
  enabled: integer('enabled').notNull().default(1),
  order: integer('order').notNull().default(0),
  createdAt: text('created_at').notNull(),
  updatedAt: text('updated_at').notNull(),
});

export const settings = sqliteTable('settings', {
  key: text('key').primaryKey(),
  value: text('value').notNull(),
});

export const pullRequests = sqliteTable('pull_requests', {
  id: text('id').primaryKey(),
  repositoryId: text('repository_id').notNull().references(() => repositories.id),
  prNumber: integer('pr_number').notNull(),
  title: text('title').notNull(),
  url: text('url').notNull(),
  author: text('author').notNull(),
  createdAt: text('created_at').notNull(),
  firstSeenAt: text('first_seen_at').notNull(),
  notifiedAt: text('notified_at'),
  lastRemindedAt: text('last_reminded_at'),
});

export const notificationHistory = sqliteTable('notification_history', {
  id: text('id').primaryKey(),
  prId: text('pr_id').notNull().references(() => pullRequests.id),
  type: text('type').notNull(), // 'new' | 'remind'
  notifiedAt: text('notified_at').notNull(),
});
```

---

## 5. ç”»é¢è¨­è¨ˆ

### 5.1 ãƒˆãƒ¬ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”” PR Reminder      [3]  â”‚  â† ãƒãƒƒã‚¸: æœªãƒ¬ãƒ“ãƒ¥ãƒ¼PRæ•°
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡ PR (3)      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ“ repo-a                â”‚
â”‚   â”” #123 Fix bug...      â”‚  â† ã‚¯ãƒªãƒƒã‚¯ã§ãƒ–ãƒ©ã‚¦ã‚¶é·ç§»
â”‚   â”” #124 Add feature...  â”‚
â”‚ ğŸ“ repo-b                â”‚
â”‚   â”” #456 Update docs...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»Šã™ãç¢ºèª               â”‚
â”‚ è¨­å®š...                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ çµ‚äº†                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¨­å®šç”»é¢ï¼ˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼‰

#### ãƒªãƒã‚¸ãƒˆãƒªè¨­å®šã‚¿ãƒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PR Reminder è¨­å®š                              [âˆ’][â–¡][Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ãƒªãƒã‚¸ãƒˆãƒª] [é€šçŸ¥è¨­å®š]                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  ç™»éŒ²æ¸ˆã¿ãƒªãƒã‚¸ãƒˆãƒª                    [+ è¿½åŠ ]        â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â‰¡  â˜‘ my-app                                  ğŸ—‘  â”‚  â”‚  â† D&Dã§ä¸¦ã³æ›¿ãˆ
â”‚  â”‚     /Users/user/projects/my-app                  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â‰¡  â˜‘ api-server                              ğŸ—‘  â”‚  â”‚
â”‚  â”‚     /Users/user/projects/api-server              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â‰¡  â˜ old-project (ç„¡åŠ¹)                      ğŸ—‘  â”‚  â”‚
â”‚  â”‚     /Users/user/projects/old-project             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é€šçŸ¥è¨­å®šã‚¿ãƒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PR Reminder è¨­å®š                              [âˆ’][â–¡][Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ãƒªãƒã‚¸ãƒˆãƒª] [é€šçŸ¥è¨­å®š]                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  é€šçŸ¥ã‚¿ã‚¤ãƒŸãƒ³ã‚°                                        â”‚
â”‚                                                        â”‚
â”‚  â˜‘ æ–°ã—ã„PRãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸæ™‚ã«é€šçŸ¥                   â”‚
â”‚                                                        â”‚
â”‚  â˜‘ å®šæœŸãƒªãƒã‚¤ãƒ³ãƒ‰                                     â”‚
â”‚     é–“éš”: [ 1æ™‚é–“ â–¼ ]                                 â”‚
â”‚     ï¼ˆé¸æŠè‚¢: 30åˆ†, 1æ™‚é–“, 2æ™‚é–“, 4æ™‚é–“, 8æ™‚é–“ï¼‰       â”‚
â”‚                                                        â”‚
â”‚  ãƒã‚§ãƒƒã‚¯é–“éš”                                          â”‚
â”‚     [ 5åˆ† â–¼ ]                                         â”‚
â”‚     ï¼ˆé¸æŠè‚¢: 1åˆ†, 5åˆ†, 10åˆ†, 15åˆ†, 30åˆ†ï¼‰             â”‚
â”‚                                                        â”‚
â”‚                                        [ä¿å­˜]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ãƒ¡ã‚¤ãƒ³ç”»é¢ï¼ˆPRä¸€è¦§ï¼‰

ãƒˆãƒ¬ã‚¤ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ã¾ãŸã¯ã€Œä»Šã™ãç¢ºèªã€ã§è¡¨ç¤ºã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡PR                                [âˆ’][â–¡][Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  ğŸ“ my-app (2)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  #123 Fix critical bug in auth                   â”‚  â”‚
â”‚  â”‚  @alice Â· 2æ™‚é–“å‰                          [â†’]   â”‚  â”‚  â† ã‚¯ãƒªãƒƒã‚¯ã§ãƒ–ãƒ©ã‚¦ã‚¶
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  #124 Add new feature for dashboard              â”‚  â”‚
â”‚  â”‚  @bob Â· 1æ—¥å‰                              [â†’]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚  ğŸ“ api-server (1)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  #456 Update API documentation                   â”‚  â”‚
â”‚  â”‚  @charlie Â· 3æ™‚é–“å‰                        [â†’]   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                        â”‚
â”‚                              æœ€çµ‚æ›´æ–°: 14:30:25        â”‚
â”‚                                        [ğŸ”„ æ›´æ–°]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. æ©Ÿèƒ½ä»•æ§˜

### 6.1 PRå–å¾—ãƒ­ã‚¸ãƒƒã‚¯

```typescript
// gh CLIã‚³ãƒãƒ³ãƒ‰
const command = `gh pr list --search "review-requested:@me" --limit 100 --json number,title,url,author,createdAt`;

// å®Ÿè¡Œæ–¹æ³•
import { execSync } from 'child_process';

function fetchPRs(repoPath: string): PR[] {
  const result = execSync(command, { 
    cwd: repoPath,
    encoding: 'utf-8' 
  });
  return JSON.parse(result);
}
```

### 6.2 é€šçŸ¥ãƒ­ã‚¸ãƒƒã‚¯

#### æ–°è¦PRé€šçŸ¥

1. PRå–å¾—å®Ÿè¡Œ
2. DBã«å­˜åœ¨ã—ãªã„PRã‚’æ¤œå‡º
3. æ–°è¦PRã‚’DBã«ä¿å­˜
4. OSé€šçŸ¥ã‚’é€ä¿¡
5. `notified_at`ã‚’æ›´æ–°

#### å®šæœŸãƒªãƒã‚¤ãƒ³ãƒ‰

1. è¨­å®šã•ã‚ŒãŸé–“éš”ã§ãƒã‚§ãƒƒã‚¯
2. `last_reminded_at`ã‹ã‚‰è¨­å®šæ™‚é–“çµŒéã—ãŸPRã‚’æ¤œå‡º
3. OSé€šçŸ¥ã‚’é€ä¿¡
4. `last_reminded_at`ã‚’æ›´æ–°

### 6.3 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©

```typescript
// Main Process
class PRScheduler {
  private intervalId: NodeJS.Timeout | null = null;
  
  start(intervalMinutes: number) {
    this.stop();
    this.intervalId = setInterval(() => {
      this.checkAllRepositories();
    }, intervalMinutes * 60 * 1000);
    
    // èµ·å‹•æ™‚ã«å³åº§ã«å®Ÿè¡Œ
    this.checkAllRepositories();
  }
  
  stop() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
      this.intervalId = null;
    }
  }
  
  async checkAllRepositories() {
    const repos = await db.select().from(repositories).where(eq(repositories.enabled, 1));
    for (const repo of repos) {
      await this.checkRepository(repo);
    }
  }
}
```

---

## 7. IPCé€šä¿¡è¨­è¨ˆ

### 7.1 ãƒãƒ£ãƒ³ãƒãƒ«å®šç¾©

| ãƒãƒ£ãƒ³ãƒãƒ« | æ–¹å‘ | ç”¨é€” |
|-----------|------|------|
| `repo:list` | Renderer â†’ Main | ãƒªãƒã‚¸ãƒˆãƒªä¸€è¦§å–å¾— |
| `repo:add` | Renderer â†’ Main | ãƒªãƒã‚¸ãƒˆãƒªè¿½åŠ  |
| `repo:remove` | Renderer â†’ Main | ãƒªãƒã‚¸ãƒˆãƒªå‰Šé™¤ |
| `repo:toggle` | Renderer â†’ Main | æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ |
| `repo:reorder` | Renderer â†’ Main | ä¸¦ã³é †æ›´æ–° |
| `settings:get` | Renderer â†’ Main | è¨­å®šå–å¾— |
| `settings:set` | Renderer â†’ Main | è¨­å®šä¿å­˜ |
| `pr:list` | Renderer â†’ Main | PRä¸€è¦§å–å¾— |
| `pr:refresh` | Renderer â†’ Main | PRæ‰‹å‹•æ›´æ–° |
| `pr:open` | Renderer â†’ Main | PRã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã |
| `pr:updated` | Main â†’ Renderer | PRæ›´æ–°é€šçŸ¥ |

### 7.2 å‹å®šç¾©

```typescript
// src/shared/types.ts

export interface Repository {
  id: string;
  path: string;
  name: string;
  enabled: boolean;
  order: number;
}

export interface PullRequest {
  id: string;
  repositoryId: string;
  repositoryName: string;
  prNumber: number;
  title: string;
  url: string;
  author: string;
  createdAt: string;
  firstSeenAt: string;
}

export interface Settings {
  notifyOnNew: boolean;
  enableReminder: boolean;
  reminderIntervalHours: number;
  checkIntervalMinutes: number;
}

export interface IpcApi {
  // Repository
  listRepositories(): Promise<Repository[]>;
  addRepository(path: string): Promise<Repository>;
  removeRepository(id: string): Promise<void>;
  toggleRepository(id: string, enabled: boolean): Promise<void>;
  reorderRepositories(ids: string[]): Promise<void>;
  
  // Settings
  getSettings(): Promise<Settings>;
  setSettings(settings: Settings): Promise<void>;
  
  // Pull Requests
  listPullRequests(): Promise<PullRequest[]>;
  refreshPullRequests(): Promise<PullRequest[]>;
  openPullRequest(url: string): Promise<void>;
  
  // Events
  onPullRequestsUpdated(callback: (prs: PullRequest[]) => void): void;
}
```

---

## 8. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
pr-reminder/
â”œâ”€â”€ electron.vite.config.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tsconfig.node.json
â”œâ”€â”€ tsconfig.web.json
â”œâ”€â”€ drizzle.config.ts
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js
â”‚
â”œâ”€â”€ resources/                    # ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³ç­‰
â”‚   â”œâ”€â”€ icon.icns
â”‚   â”œâ”€â”€ icon.ico
â”‚   â””â”€â”€ icon.png
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                     # Main Process
â”‚   â”‚   â”œâ”€â”€ index.ts              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ tray.ts               # ãƒˆãƒ¬ã‚¤ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ windows.ts            # ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ipc.ts                # IPC ãƒãƒ³ãƒ‰ãƒ©
â”‚   â”‚   â”œâ”€â”€ scheduler.ts          # PRãƒã‚§ãƒƒã‚¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©
â”‚   â”‚   â”œâ”€â”€ notifier.ts           # é€šçŸ¥é€ä¿¡
â”‚   â”‚   â”œâ”€â”€ gh-cli.ts             # gh CLIãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”‚   â””â”€â”€ db/
â”‚   â”‚       â”œâ”€â”€ index.ts          # DBåˆæœŸåŒ–
â”‚   â”‚       â”œâ”€â”€ schema.ts         # Drizzle ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚       â””â”€â”€ migrations/       # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚
â”‚   â”œâ”€â”€ preload/                  # Preload Script
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ renderer/                 # Renderer Process (React)
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ main.tsx              # Reactã‚¨ãƒ³ãƒˆãƒªãƒ¼
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ RepositoryList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RepositoryItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PullRequestList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PullRequestItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SettingsForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Tabs.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useRepositories.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ usePullRequests.ts
â”‚   â”‚   â”‚   â””â”€â”€ useSettings.ts
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainPage.tsx      # PRä¸€è¦§
â”‚   â”‚   â”‚   â””â”€â”€ SettingsPage.tsx  # è¨­å®š
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â””â”€â”€ globals.css
â”‚   â”‚
â”‚   â””â”€â”€ shared/                   # å…±æœ‰å‹å®šç¾©
â”‚       â””â”€â”€ types.ts
â”‚
â””â”€â”€ build/                        # ãƒ“ãƒ«ãƒ‰å‡ºåŠ›
```

---

## 9. å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1: åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆElectron Viteï¼‰
2. TypeScriptè¨­å®š
3. ESLint / Prettierè¨­å®š

### Phase 2: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
1. React + TailwindCSS
2. Drizzle + better-sqlite3
3. Electron Builderè¨­å®š

### Phase 3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
1. ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
3. DBåˆæœŸåŒ–å‡¦ç†

### Phase 4: Main ProcessåŸºç›¤
1. ãƒˆãƒ¬ã‚¤å®Ÿè£…
2. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†
3. IPCåŸºç›¤

### Phase 5: æ©Ÿèƒ½å®Ÿè£…
1. gh CLIé€£æº
2. PRã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©
3. é€šçŸ¥æ©Ÿèƒ½

### Phase 6: UIå®Ÿè£…
1. è¨­å®šç”»é¢
2. PRä¸€è¦§ç”»é¢
3. D&Dä¸¦ã³æ›¿ãˆ

### Phase 7: ä»•ä¸Šã’
1. ã‚¢ã‚¤ã‚³ãƒ³ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³èª¿æ•´
2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
3. ãƒ“ãƒ«ãƒ‰ãƒ»é…å¸ƒè¨­å®š

---

## 10. è¨­å®šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤

```typescript
const DEFAULT_SETTINGS: Settings = {
  notifyOnNew: true,
  enableReminder: true,
  reminderIntervalHours: 1,
  checkIntervalMinutes: 5,
};
```

---

## 11. ä»Šå¾Œã®æ‹¡å¼µæ¡ˆï¼ˆã‚¹ã‚³ãƒ¼ãƒ—å¤–ï¼‰

- ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¸ˆã¿PRã®å±¥æ­´è¡¨ç¤º
- PRçµã‚Šè¾¼ã¿ãƒ»æ¤œç´¢
- ã‚¹ãƒŒãƒ¼ã‚ºæ©Ÿèƒ½
- GitHub APIç›´æ¥é€£æºï¼ˆghãªã—ã§ã‚‚å‹•ä½œï¼‰
- è¤‡æ•°GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œ
