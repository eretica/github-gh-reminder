# UX Issues and Improvement Proposals

このドキュメントでは、PR Reminderアプリケーションの現在のUX課題と改善提案をまとめています。

## 優先度: 高 (High Priority)

### 1. リポジトリ追加のユーザー体験が不明確
**Issue**: RepositoryList.tsx:62 の「Add」ボタンをクリックした際、`onAdd`が呼ばれるだけで、どのようにリポジトリを追加するのかが不明確です。

**現状の問題**:
- `onAdd`関数がuseRepositories hookから提供されているが、実装を見るとファイル選択ダイアログを開く処理しかない
- ユーザーがどのようなパスを選択すべきか説明がない（リポジトリのルート? .gitフォルダ?）
- 選択後のフィードバックがない（成功/失敗の通知が不明確）

**改善提案**:
- リポジトリ追加時にガイダンスを表示（「Gitリポジトリのルートフォルダを選択してください」など）
- 追加成功時のトースト通知を追加
- 追加失敗時のエラーメッセージを改善（理由を明確に）
- リポジトリ名が自動検出されることを示すプレビューを表示

**関連ファイル**: `src/renderer/components/RepositoryList.tsx`, `src/renderer/hooks/useRepositories.ts`

---

### 2. メイン画面に戻る方法がない
**Issue**: SettingsPage.tsx には設定画面のヘッダーがありますが、メイン画面に戻るためのナビゲーションがありません。

**現状の問題**:
- 設定画面を開くと、メイン画面に戻る明確な方法がない
- ウィンドウを閉じてトレイから再度開く必要がある
- ユーザーが「迷子」になる可能性がある

**改善提案**:
- 設定画面のヘッダーに「戻る」ボタンを追加
- または、メイン画面と設定画面の両方にタブ/ナビゲーションバーを実装
- キーボードショートカット（Escキー）で前の画面に戻れるようにする

**関連ファイル**: `src/renderer/pages/SettingsPage.tsx`, `src/renderer/App.tsx`

---

### 3. リアルタイムフィードバックの不足
**Issue**: PR一覧の更新やリポジトリの追加/削除時に、ユーザーへのフィードバックが不十分です。

**現状の問題**:
- リフレッシュボタンをクリックしても、更新中であることが分かりにくい（ボタンの色が変わるだけ）
- リポジトリの有効/無効切り替え時の即座のフィードバックがない
- 削除操作に確認ダイアログがない（誤操作のリスク）

**改善提案**:
- リフレッシュ中はローディングアニメーションを表示
- リポジトリ削除前に確認モーダルを表示
- 操作成功時にトースト通知を表示（「リポジトリを削除しました」など）
- リポジトリの有効/無効切り替え時に視覚的なフィードバックを追加

**関連ファイル**: `src/renderer/components/RepositoryItem.tsx`, `src/renderer/pages/MainPage.tsx`

---

### 4. エラーメッセージの改善が必要
**Issue**: エラー表示が汎用的すぎて、ユーザーが何をすべきか分からない。

**現状の問題**:
- MainPage.tsx:96-98 のエラー表示は`error`変数の内容をそのまま表示
- 技術的なエラーメッセージがユーザーに見える可能性
- エラーの原因や解決方法が不明確

**改善提案**:
- エラーメッセージをユーザーフレンドリーな文言に変換
- エラーの種類に応じた具体的なアクションを提示
  - 「GitHub CLIがインストールされていません → インストール方法へのリンク」
  - 「認証エラー → gh auth loginを実行してください」
- エラーの詳細を確認できる展開可能なセクションを追加

**関連ファイル**: `src/renderer/pages/MainPage.tsx`, `src/renderer/pages/SettingsPage.tsx`

---

## 優先度: 中 (Medium Priority)

### 5. PR詳細情報の不足
**Issue**: PullRequestItem.tsx は基本的な情報しか表示していません。

**現状の問題**:
- PRのステータス（ドラフト、レビュー中など）が不明
- レビュアー数やコメント数などの詳細情報がない
- PRの緊急度や優先度が判断できない

**改善提案**:
- PRのステータスバッジを追加（Draft、Ready for Review、Changes Requestedなど）
- レビュアー数、承認数、コメント数を表示
- CIステータス（passing/failing）を表示
- ラベルやマイルストーンを表示（オプション）

**関連ファイル**: `src/renderer/components/PullRequestItem.tsx`, `src/shared/types.ts`

---

### 6. 設定画面のプレビュー機能
**Issue**: 通知設定を変更しても、どのように動作するか事前に確認できません。

**現状の問題**:
- リマインダー間隔の設定値が実際にどの程度の頻度かイメージしにくい
- 通知の見た目やタイミングを確認できない

**改善提案**:
- 「テスト通知を送信」ボタンを追加
- 次回の通知タイミングを表示（「次回のチェック: 3分後」など）
- 設定変更時に即座に次回実行時刻を更新

**関連ファイル**: `src/renderer/components/SettingsForm.tsx`, `src/main/notifier.ts`

---

### 7. リポジトリの検索・フィルタリング機能
**Issue**: リポジトリやPRが多い場合、目的のものを見つけにくい。

**現状の問題**:
- リポジトリ一覧に検索機能がない
- PR一覧もフィルタリングできない
- 多数のPRがある場合にスクロールが大変

**改善提案**:
- リポジトリ一覧に検索ボックスを追加
- PR一覧にフィルター（リポジトリ別、作成者別など）を追加
- PR一覧をソート可能にする（新しい順、古い順など）

**関連ファイル**: `src/renderer/components/RepositoryList.tsx`, `src/renderer/components/PullRequestList.tsx`

---

### 8. キーボードナビゲーションのサポート
**Issue**: マウス操作が前提で、キーボードだけでは操作しにくい。

**現状の問題**:
- PRアイテムをキーボードで選択できない
- Tab キーでのフォーカス移動が直感的でない
- ショートカットキーがない

**改善提案**:
- PR一覧を矢印キーで移動できるようにする
- EnterキーでPRを開けるようにする
- グローバルショートカットキーを追加（例: Cmd+R でリフレッシュ、Cmd+, で設定画面）

**関連ファイル**: `src/renderer/components/PullRequestList.tsx`, `src/renderer/pages/MainPage.tsx`

---

## 優先度: 低 (Low Priority)

### 9. ダークモードのサポート
**Issue**: 現在はライトモードのみで、ダークモード愛好者に配慮されていません。

**現状の問題**:
- システムのテーマ設定に追従しない
- 夜間使用時に眩しい可能性

**改善提案**:
- システムのダークモード設定を検出して自動切り替え
- または設定画面にテーマ切り替えオプションを追加
- Tailwind CSSのdark:モディファイアを活用

**関連ファイル**: `tailwind.config.js`, すべてのコンポーネント

---

### 10. アニメーションとトランジションの改善
**Issue**: UIの変更が突然すぎて、何が起きたか分かりにくい場合がある。

**現状の問題**:
- PR一覧の更新時にアイテムが突然入れ替わる
- ローディング状態とコンテンツ表示の切り替えが唐突
- リポジトリの並び替え以外にアニメーションがほとんどない

**改善提案**:
- PR一覧の更新時にフェードイン/アウトアニメーションを追加
- ローディングからコンテンツへのスムーズな遷移
- ホバー効果やボタンのアニメーションを強化

**関連ファイル**: すべてのコンポーネント、Tailwind設定

---

### 11. 通知のカスタマイズ
**Issue**: 通知の設定項目が限定的です。

**現状の問題**:
- 通知音のオン/オフしか選べない
- 通知の表示時間を調整できない
- 特定のリポジトリだけ通知を無効にできない

**改善提案**:
- リポジトリごとに通知設定を変更可能にする
- 通知音の種類を選択できるようにする
- Do Not Disturb（集中モード）の時間帯を設定可能にする

**関連ファイル**: `src/renderer/components/SettingsForm.tsx`, `src/shared/types.ts`, `src/main/notifier.ts`

---

### 12. オンボーディング体験
**Issue**: 初回起動時のガイダンスがない。

**現状の問題**:
- 初めてアプリを使うユーザーが何をすべきか分からない
- GitHub CLIの設定が必要なことが説明されていない
- 機能の全体像が把握しにくい

**改善提案**:
- 初回起動時にウェルカム画面を表示
- セットアップウィザード（GitHub CLI認証、最初のリポジトリ追加）を実装
- 機能説明のツールチップやツアー機能を追加

**関連ファイル**: 新規コンポーネントが必要

---

### 13. PRの詳細プレビュー
**Issue**: PRをクリックするとブラウザで開くだけで、アプリ内でプレビューできない。

**現状の問題**:
- 簡単な内容確認のためにブラウザを開く必要がある
- PRの説明文やファイル変更数などが見えない

**改善提案**:
- PRアイテムを展開してアプリ内で詳細を表示
- ファイル変更数、追加/削除行数を表示
- PR本文の最初の数行をプレビュー表示

**関連ファイル**: `src/renderer/components/PullRequestItem.tsx`, `src/main/gh-cli.ts`

---

## 実装優先順位の推奨

上記の課題を以下の順番で対応することを推奨します:

1. **まず対応すべき（Quick Wins）**:
   - #2: メイン画面に戻る方法（実装が簡単で効果大）
   - #3: 削除確認ダイアログ（誤操作防止のため重要）
   - #4: エラーメッセージの改善（ユーザー体験の基本）

2. **次に対応すべき（高優先度）**:
   - #1: リポジトリ追加のUX改善
   - #3: リアルタイムフィードバック全般
   - #6: 設定のプレビュー機能

3. **段階的に対応**:
   - #5: PR詳細情報
   - #7: 検索・フィルタリング
   - #8: キーボードナビゲーション

4. **余裕があれば**:
   - #9: ダークモード
   - #10: アニメーション改善
   - #11: 通知のカスタマイズ
   - #12: オンボーディング
   - #13: PRプレビュー

---

## まとめ

このアプリケーションは基本機能はしっかりしていますが、以下の点でUX改善の余地があります:

- **情報の明確性**: ユーザーが次に何をすべきか分かりやすくする
- **フィードバック**: 操作結果を即座に、分かりやすく伝える
- **エラー処理**: 問題が起きた時の対処法を明確にする
- **効率性**: キーボード操作、検索、フィルタリングなどで作業を効率化
- **快適性**: アニメーション、ダークモードなど、使っていて心地よい体験

これらの改善により、より多くのユーザーに愛されるアプリケーションになると考えられます。
