---
name: build and release
description: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒªãƒªãƒ¼ã‚¹ã‚’å®Ÿè¡Œï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€ãƒ“ãƒ«ãƒ‰ã€GitHub Releaseså…¬é–‹ï¼‰
---

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒªãƒ¼ã‚¹ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¹ã‚­ãƒ«ã¯ã€GitHub PR Reminderã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ¡ˆå†…ã—ã¾ã™ã€‚

## ðŸš¨ æœ€é‡è¦äº‹é …

**ã“ã®ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯å³åº§ã«ä¸­æ­¢ã—ã¦ãã ã•ã„ã€‚**

- âœ… ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã«åˆæ ¼ã—ãŸå ´åˆã®ã¿ã€ãƒªãƒªãƒ¼ã‚¹ã‚’ç¶šè¡Œ
- âŒ 1ã¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ã€ãã®æ™‚ç‚¹ã§å®Œå…¨ã«ä¸­æ­¢
- ðŸ”„ å•é¡Œã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰ã€æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™

**ã€Œæµã‚Œã§ãƒªãƒªãƒ¼ã‚¹ã€ã¯çµ¶å¯¾ã«ç¦æ­¢ã§ã™ã€‚å“è³ªã‚’æœ€å„ªå…ˆã—ã¾ã™ã€‚**

## ãƒªãƒªãƒ¼ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯**GitHub Flow + Tags**ã‚’æŽ¡ç”¨ã—ã¦ã„ã¾ã™ï¼š

```
æ©Ÿèƒ½é–‹ç™ºï¼ˆPRã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰â†’ main â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–° â†’ ã‚¿ã‚° â†’ ãƒªãƒªãƒ¼ã‚¹
```

**é‡è¦**: ãƒªãƒªãƒ¼ã‚¹ã¯**mainãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ç›´æŽ¥å®Ÿè¡Œ**ã—ã¾ã™ã€‚

## ãƒªãƒªãƒ¼ã‚¹å‰ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**âš ï¸ é‡è¦**: ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã§**1ã¤ã§ã‚‚å•é¡ŒãŒè¦‹ã¤ã‹ã£ãŸã‚‰ã€ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’å®Œå…¨ã«ä¸­æ­¢**ã—ã¦ãã ã•ã„ã€‚å•é¡Œã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã¦ãã ã•ã„ã€‚

### 1. ãƒ–ãƒ©ãƒ³ãƒã®ç¢ºèª

**å¿…é ˆ**: mainãƒ–ãƒ©ãƒ³ãƒã«ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

```bash
# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ç¢ºèª
git branch --show-current
```

**åˆ¤æ–­åŸºæº–**:
- âœ… `main` â†’ ç¶šè¡Œå¯èƒ½
- âŒ ãã®ä»–ã®ãƒ–ãƒ©ãƒ³ãƒ â†’ mainã«åˆ‡ã‚Šæ›¿ãˆã¦ãã ã•ã„
  ```bash
  git checkout main
  ```

### 2. mainãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°åŒ–

```bash
# ãƒªãƒ¢ãƒ¼ãƒˆã®æœ€æ–°ã‚’å–å¾—
git fetch origin main

# mainã¨ã®å·®åˆ†ã‚’ç¢ºèª
git log HEAD..origin/main --oneline

# å·®åˆ†ãŒã‚ã‚Œã°æ›´æ–°
git pull origin main
```

**åˆ¤æ–­åŸºæº–**:
- âœ… `git log HEAD..origin/main`ãŒç©º â†’ æœ€æ–°ç‰ˆã€ç¶šè¡Œå¯èƒ½
- âš ï¸ å·®åˆ†ãŒã‚ã‚‹ â†’ `git pull`ã§æ›´æ–°ã—ã¦ã‹ã‚‰ç¶šè¡Œ

### 3. ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çŠ¶æ…‹ç¢ºèª

```bash
# æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ã‚’ç¢ºèª
git status
```

**åˆ¤æ–­åŸºæº–**:
- âœ… "nothing to commit, working tree clean" â†’ ç¶šè¡Œå¯èƒ½
- âŒ æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ã‚ã‚Š â†’ ã‚³ãƒŸãƒƒãƒˆã—ã¦ã‹ã‚‰ç¶šè¡Œ

### 4. ãƒ†ã‚¹ãƒˆã¨ãƒ“ãƒ«ãƒ‰ã®ç¢ºèª

**é‡è¦**: ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§**1ã¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ã€ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’å³åº§ã«ä¸­æ­¢**ã—ã¦ãã ã•ã„ã€‚ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹çŠ¶æ…‹ã§ç¶šè¡Œã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚

```bash
# åž‹ãƒã‚§ãƒƒã‚¯
pnpm typecheck
# â†‘ ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰å³åº§ã«ä¸­æ­¢ã€‚ä¿®æ­£ã—ã¦ã‹ã‚‰æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™

# Lintï¼ˆã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»å“è³ªãƒã‚§ãƒƒã‚¯ï¼‰
pnpm lint
# â†‘ ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰å³åº§ã«ä¸­æ­¢ã€‚pnpm lint:fix ã§ä¿®æ­£ã‚’è©¦ã¿ã‚‹ã‹ã€æ‰‹å‹•ã§ä¿®æ­£

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pnpm test
# â†‘ å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆãŒã‚ã£ãŸã‚‰å³åº§ã«ä¸­æ­¢ã€‚ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™

# ãƒ“ãƒ«ãƒ‰ç¢ºèª
pnpm build
# â†‘ ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰å³åº§ã«ä¸­æ­¢ã€‚å•é¡Œã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™
```

**åˆ¤æ–­åŸºæº–**:
- âœ… **ã™ã¹ã¦ã®ã‚³ãƒžãƒ³ãƒ‰ãŒæˆåŠŸ** â†’ ç¶šè¡Œå¯èƒ½
- âŒ **ã„ãšã‚Œã‹1ã¤ã§ã‚‚å¤±æ•—** â†’ **å³åº§ã«ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä¸­æ­¢**
  1. å•é¡Œã‚’ä¿®æ­£
  2. å†åº¦ã‚¹ãƒ†ãƒƒãƒ—1ã‹ã‚‰é–‹å§‹
  3. ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã«åˆæ ¼ã™ã‚‹ã¾ã§ç¶šè¡Œã—ãªã„

**ã‚¨ãƒ©ãƒ¼æ™‚ã®å¯¾å¿œ**:
```bash
# è‡ªå‹•ä¿®æ­£å¯èƒ½ãªLintã‚¨ãƒ©ãƒ¼ã®å ´åˆ
pnpm lint:fix
git add .
git commit -m "fix: lint errors"

# ä¿®æ­£å¾Œã€å¿…ãšæœ€åˆã‹ã‚‰ç¢ºèª
pnpm typecheck && pnpm lint && pnpm test && pnpm build
```

**ç¦æ­¢äº‹é …**:
- âŒ ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã—ã¦æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€
- âŒ ã€Œå¾Œã§ä¿®æ­£ã™ã‚Œã°ã„ã„ã€ã¨è€ƒãˆã¦ãƒªãƒªãƒ¼ã‚¹ã‚’ç¶šè¡Œ
- âŒ ãƒ†ã‚¹ãƒˆã‚’ä¸€æ™‚çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ãƒªãƒªãƒ¼ã‚¹
- âŒ åž‹ã‚¨ãƒ©ãƒ¼ã‚„Lintã‚¨ãƒ©ãƒ¼ã‚’æ”¾ç½®ã—ãŸã¾ã¾ãƒªãƒªãƒ¼ã‚¹

## ãƒªãƒªãƒ¼ã‚¹è¨­å®šã®æ±ºå®š

### AskUserQuestionã§ç¢ºèªã™ã‚‹é …ç›®

#### è³ªå•: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—

**header**: "Version Bump"

**question**: "ã©ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸Šã’ã¾ã™ã‹ï¼Ÿ"

**options**:
1. **patch (Recommended)**
   - description: "ãƒã‚°ä¿®æ­£ã®ã¿ï¼ˆä¾‹: 1.0.0 â†’ 1.0.1ï¼‰"

2. **minor**
   - description: "æ–°æ©Ÿèƒ½è¿½åŠ ï¼ˆä¾‹: 1.0.0 â†’ 1.1.0ï¼‰"

3. **major**
   - description: "ç ´å£Šçš„å¤‰æ›´ï¼ˆä¾‹: 1.0.0 â†’ 2.0.0ï¼‰"

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æ›´æ–°

### package.jsonã®æ›´æ–°

ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’èª­ã¿å–ã‚Šã€ã‚»ãƒžãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã«å¾“ã£ã¦æ›´æ–°ã—ã¾ã™ã€‚

**ä¾‹**:
```
ç¾åœ¨: 1.0.0
patch  â†’ 1.0.1
minor  â†’ 1.1.0
major  â†’ 2.0.0
```

**æ›´æ–°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«**:
- `package.json` ã® `version` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

**å®Ÿè£…æ–¹æ³•**:
```typescript
// package.jsonã‚’èª­ã¿è¾¼ã¿
const pkg = JSON.parse(await readFile('package.json', 'utf-8'));
const [major, minor, patch] = pkg.version.split('.').map(Number);

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦æ›´æ–°
let newVersion: string;
switch (versionType) {
  case 'patch':
    newVersion = `${major}.${minor}.${patch + 1}`;
    break;
  case 'minor':
    newVersion = `${major}.${minor + 1}.0`;
    break;
  case 'major':
    newVersion = `${major + 1}.0.0`;
    break;
}

// package.jsonã‚’æ›´æ–°
pkg.version = newVersion;
await writeFile('package.json', JSON.stringify(pkg, null, 2) + '\n');
```

## ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ

### 1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã®ã‚³ãƒŸãƒƒãƒˆ

```bash
# package.jsonã‚’æ›´æ–°å¾Œã€ã‚³ãƒŸãƒƒãƒˆ
git add package.json
git commit -m "chore: bump version to ${newVersion}"
```

**ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**:
- `chore: bump version to 1.0.1` (patch)
- `chore: bump version to 1.1.0` (minor)
- `chore: bump version to 2.0.0` (major)

### 2. Gitã‚¿ã‚°ã®ä½œæˆ

```bash
# ã‚»ãƒžãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã«å¾“ã£ãŸã‚¿ã‚°
git tag -a "v${newVersion}" -m "Release v${newVersion}"
```

**ä¾‹**: `git tag -a "v1.0.1" -m "Release v1.0.1"`

### 3. mainã¸ãƒ—ãƒƒã‚·ãƒ¥

```bash
# mainãƒ–ãƒ©ãƒ³ãƒã¨ã‚¿ã‚°ã‚’åŒæ™‚ã«ãƒ—ãƒƒã‚·ãƒ¥
git push origin main
git push origin "v${newVersion}"
```

**é‡è¦**: ã‚¿ã‚°ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€electron-builderãŒã“ã®ã‚¿ã‚°ã‚’ãƒªãƒªãƒ¼ã‚¹æƒ…å ±ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚

### 4. ãƒ“ãƒ«ãƒ‰ã¨ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ

**å‰ææ¡ä»¶**: gh CLIã§èªè¨¼æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨ï¼ˆ`gh auth status`ã§ç¢ºèªï¼‰

```bash
# GitHub Releasesã¸å…¬é–‹
pnpm publish
```

ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã¯ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
1. `electron-vite build` - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ“ãƒ«ãƒ‰
2. `electron-builder --publish always` - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã¨GitHub Releasesã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

electron-builderã¯è‡ªå‹•çš„ã«gh CLIã®èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã€ã‚¿ã‚°ï¼ˆv${newVersion}ï¼‰ã«ç´ã¥ã„ãŸãƒªãƒªãƒ¼ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

### 5. ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã®è‡ªå‹•ç”Ÿæˆ

**é‡è¦**: ãƒ“ãƒ«ãƒ‰ã¨ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œå¾Œã€ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¦æ›´æ–°ã—ã¾ã™ã€‚

#### 5.1. å‰å›žã®ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°ã‚’å–å¾—

```bash
# æœ€æ–°ã®ã‚¿ã‚°ã‚’å–å¾—ï¼ˆç¾åœ¨ã®ãƒªãƒªãƒ¼ã‚¹ã‚’é™¤ãï¼‰
git tag -l "v*" --sort=-v:refname | head -n 2 | tail -n 1
```

ã“ã®çµæžœã‚’`previousTag`ã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚

#### 5.2. ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã®ç”Ÿæˆ

ä»¥ä¸‹ã®å†…å®¹ã‚’å«ã‚€ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¾ã™ï¼š

**ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:
```markdown
## What's Changed

[ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸPRã®ä¸€è¦§]

**Full Changelog**: https://github.com/eretica/github_gh_reminder/compare/${previousTag}...v${newVersion}
```

#### 5.3. ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸPRã®å–å¾—

```bash
# previousTagã‹ã‚‰v${newVersion}ã¾ã§ã®ãƒžãƒ¼ã‚¸ã‚³ãƒŸãƒƒãƒˆã‚’å–å¾—
gh pr list \
  --state merged \
  --search "merged:>=$(git log ${previousTag} -1 --format=%cd --date=format:%Y-%m-%d)" \
  --json number,title,mergedAt,url \
  --jq '.[] | "* \(.title) (#\(.number))"'
```

ã¾ãŸã¯ã€ã‚ˆã‚Šæ­£ç¢ºã«ï¼š

```bash
# previousTagã‹ã‚‰v${newVersion}ã¾ã§ã®ã‚³ãƒŸãƒƒãƒˆç¯„å›²ã§ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸPRã‚’å–å¾—
git log ${previousTag}..v${newVersion} --merges --format="%s" | \
  grep -oE "#[0-9]+" | \
  sort -u | \
  while read pr; do
    gh pr view ${pr#\#} --json number,title,url --jq '"* \(.title) (#\(.number))"'
  done
```

#### 5.4. ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã®æ›´æ–°

ç”Ÿæˆã—ãŸãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã§æ—¢å­˜ã®ãƒªãƒªãƒ¼ã‚¹ã‚’æ›´æ–°ï¼š

```bash
# ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
cat > /tmp/release-notes.md <<EOF
## What's Changed

[PRãƒªã‚¹ãƒˆ]

**Full Changelog**: https://github.com/eretica/github_gh_reminder/compare/${previousTag}...v${newVersion}
EOF

# GitHub Releaseã‚’æ›´æ–°
gh release edit v${newVersion} --notes-file /tmp/release-notes.md
```

**å®Ÿè£…ä¾‹**:
```bash
# å®Œå…¨ãªè‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹
PREVIOUS_TAG=$(git tag -l "v*" --sort=-v:refname | head -n 2 | tail -n 1)
NEW_VERSION="v1.0.1"  # å®Ÿéš›ã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³

# PRãƒªã‚¹ãƒˆã‚’ç”Ÿæˆ
PR_LIST=$(git log ${PREVIOUS_TAG}..${NEW_VERSION} --merges --format="%s" | \
  grep -oE "#[0-9]+" | \
  sort -u | \
  while read pr; do
    gh pr view ${pr#\#} --json number,title --jq '"* \(.title) (#\(.number))"'
  done)

# ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã‚’ç”Ÿæˆ
cat > /tmp/release-notes.md <<EOF
## What's Changed

${PR_LIST}

**Full Changelog**: https://github.com/eretica/github_gh_reminder/compare/${PREVIOUS_TAG}...${NEW_VERSION}
EOF

# ãƒªãƒªãƒ¼ã‚¹ã‚’æ›´æ–°
gh release edit ${NEW_VERSION} --notes-file /tmp/release-notes.md

# ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
rm /tmp/release-notes.md
```

### 6. ç”Ÿæˆã•ã‚Œã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ

```
dist/
â”œâ”€â”€ GitHub-PR-Reminder-${version}-arm64-mac.zip          # è‡ªå‹•æ›´æ–°ç”¨
â”œâ”€â”€ GitHub-PR-Reminder-${version}-arm64-mac.zip.blockmap # å·®åˆ†æ›´æ–°ç”¨
â”œâ”€â”€ GitHub-PR-Reminder-${version}-arm64.dmg              # åˆå›žé…å¸ƒç”¨
â”œâ”€â”€ GitHub-PR-Reminder-${version}-arm64.dmg.blockmap     # å·®åˆ†æ›´æ–°ç”¨
â””â”€â”€ latest-mac.yml                                        # æ›´æ–°æƒ…å ±
```

ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒGitHub Releasesã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚

## ãƒªãƒªãƒ¼ã‚¹å¾Œã®ç¢ºèª

### 1. GitHub Releasesã§ç¢ºèª

```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã§Releasesãƒšãƒ¼ã‚¸ã‚’é–‹ã
open "https://github.com/eretica/github_gh_reminder/releases"
```

ç¢ºèªé …ç›®ï¼š
- âœ… ãƒªãƒªãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- âœ… ã™ã¹ã¦ã®ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ï¼ˆDMGã€ZIPã€blockmapã€latest-mac.ymlï¼‰
- âœ… ã‚¿ã‚°ãŒæ­£ã—ã„ï¼ˆv${newVersion}ï¼‰
- âœ… ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ï¼ˆPRä¸€è¦§ã€Full Changelogãƒªãƒ³ã‚¯ï¼‰

### 2. è‡ªå‹•æ›´æ–°ã®ãƒ†ã‚¹ãƒˆ

æ—¢å­˜ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§è‡ªå‹•æ›´æ–°ãŒå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

```bash
# å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¢ãƒ—ãƒªã‚’èµ·å‹•
# ãƒˆãƒ¬ã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ "ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ç¢ºèª"
# ã¾ãŸã¯ã€ã‚¢ãƒ—ãƒªã‚’å†èµ·å‹•ã—ã¦è‡ªå‹•ãƒã‚§ãƒƒã‚¯å¾…æ©Ÿ
```

ç¢ºèªé …ç›®ï¼š
- âœ… æ›´æ–°é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé–‹å§‹ã•ã‚Œã‚‹
- âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- âœ… å†èµ·å‹•å¾Œã«æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé©ç”¨ã•ã‚Œã‚‹

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### GitHubèªè¨¼ã‚¨ãƒ©ãƒ¼

```
Error: GitHub token is not set
```

**è§£æ±ºæ–¹æ³•**:
```bash
# gh CLIã§èªè¨¼
gh auth login

# èªè¨¼çŠ¶æ…‹ã‚’ç¢ºèª
gh auth status

# å¿…è¦ãªã‚¹ã‚³ãƒ¼ãƒ—: repo (Full control of private repositories)
```

gh CLIãŒæ­£ã—ãèªè¨¼ã•ã‚Œã¦ã„ã‚Œã°ã€electron-builderã¯è‡ªå‹•çš„ã«èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### Lintã‚¨ãƒ©ãƒ¼

```bash
# è‡ªå‹•ä¿®æ­£å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£
pnpm lint:fix

# å†åº¦ãƒã‚§ãƒƒã‚¯
pnpm lint
```

**æ³¨æ„**: è‡ªå‹•ä¿®æ­£ã§ããªã„ã‚¨ãƒ©ãƒ¼ã¯æ‰‹å‹•ã§ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
rm -rf out/ dist/
pnpm build
pnpm publish
```

### æ—¢å­˜ã®ã‚¿ã‚°ã‚¨ãƒ©ãƒ¼

```
error: tag 'v1.0.1' already exists
```

**è§£æ±ºæ–¹æ³•**:
```bash
# æ—¢å­˜ã®ã‚¿ã‚°ã‚’å‰Šé™¤ï¼ˆæ³¨æ„ã—ã¦å®Ÿè¡Œï¼‰
git tag -d v1.0.1
git push origin :refs/tags/v1.0.1

# å†åº¦ã‚¿ã‚°ã‚’ä½œæˆ
git tag -a "v1.0.1" -m "Release v1.0.1"
git push origin v1.0.1
```

### ãƒªãƒªãƒ¼ã‚¹å¤±æ•—æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

ãƒªãƒªãƒ¼ã‚¹ã«å•é¡ŒãŒã‚ã£ãŸå ´åˆï¼š
```bash
# GitHub Releasesã§ãƒªãƒªãƒ¼ã‚¹ã‚’å‰Šé™¤
gh release delete v1.0.1 --yes

# ã‚¿ã‚°ã‚’å‰Šé™¤
git tag -d v1.0.1
git push origin :refs/tags/v1.0.1

# package.jsonã‚’å…ƒã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™
git revert HEAD
git push origin main
```

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ¦‚è¦

```
1. mainãƒ–ãƒ©ãƒ³ãƒç¢ºèª (git branch --show-current)
   â†“
2. mainã®æœ€æ–°åŒ– (git pull origin main)
   â†“
3. ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚¯ãƒªãƒ¼ãƒ³ç¢ºèª (git status)
   â†“
4. å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œã€ã‚¨ãƒ©ãƒ¼ãŒ1ã¤ã§ã‚‚ã‚ã‚Œã°å³åº§ã«ä¸­æ­¢ã€‘
   - pnpm typecheckï¼ˆåž‹ãƒã‚§ãƒƒã‚¯ï¼‰
   - pnpm lintï¼ˆã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»å“è³ªãƒã‚§ãƒƒã‚¯ï¼‰
   - pnpm testï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰
   - pnpm buildï¼ˆãƒ“ãƒ«ãƒ‰ç¢ºèªï¼‰
   â€» ã™ã¹ã¦æˆåŠŸã—ãŸå ´åˆã®ã¿æ¬¡ã¸é€²ã‚€
   â†“
5. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—ç¢ºèª
   - patchï¼ˆãƒã‚°ä¿®æ­£: 1.0.0 â†’ 1.0.1ï¼‰
   - minorï¼ˆæ©Ÿèƒ½è¿½åŠ : 1.0.0 â†’ 1.1.0ï¼‰
   - majorï¼ˆç ´å£Šçš„å¤‰æ›´: 1.0.0 â†’ 2.0.0ï¼‰
   â†“
6. package.jsonæ›´æ–° (Edit tool)
   â†“
7. ã‚³ãƒŸãƒƒãƒˆ (git add package.json && git commit)
   â†“
8. ã‚¿ã‚°ä½œæˆ (git tag -a v${newVersion})
   â†“
9. mainã¸ãƒ—ãƒƒã‚·ãƒ¥ (git push origin main && git push origin v${newVersion})
   â†“
10. ãƒ“ãƒ«ãƒ‰ï¼†ãƒªãƒªãƒ¼ã‚¹ (pnpm publish)
   â†“
11. ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
   - å‰å›žã®ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°ã‚’å–å¾—
   - ãƒžãƒ¼ã‚¸ã•ã‚ŒãŸPRä¸€è¦§ã‚’å–å¾—
   - GitHub Compare URLã‚’ç”Ÿæˆ
   - gh release editã§ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆã‚’æ›´æ–°
   â†“
12. GitHub Releasesã§ç¢ºèª
```

**æ‰€è¦æ™‚é–“**: ç´„5ã€œ10åˆ†ï¼ˆãƒ“ãƒ«ãƒ‰ã¨ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å«ã‚€ï¼‰

**é‡è¦ãªæ³¨æ„äº‹é …**:
- ã‚¹ãƒ†ãƒƒãƒ—4ã§1ã¤ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ã€ãã®æ™‚ç‚¹ã§ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’å®Œå…¨ã«ä¸­æ­¢
- å•é¡Œã‚’ä¿®æ­£ã—ã¦ã‹ã‚‰ã€å¿…ãšã‚¹ãƒ†ãƒƒãƒ—1ã‹ã‚‰å†é–‹
- ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–ã—ã¦ç¶šè¡Œã™ã‚‹ã“ã¨ã¯çµ¶å¯¾ã«ç¦æ­¢

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒŽãƒ¼ãƒˆ

- **gh CLIèªè¨¼**: electron-builderã¯gh CLIã®èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆ`~/.config/gh/hosts.yml`ï¼‰
- **æ¨©é™**: GitHub tokenã«ã¯`repo`ã‚¹ã‚³ãƒ¼ãƒ—ãŒå¿…è¦ã§ã™ï¼ˆ`gh auth status`ã§ç¢ºèªï¼‰
- **ã‚¿ã‚°**: ä¸€åº¦å…¬é–‹ã—ãŸã‚¿ã‚°ã¯å‰Šé™¤ã—ãªã„ã“ã¨ã‚’æŽ¨å¥¨ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ã®æ•´åˆæ€§ï¼‰

## æ©Ÿèƒ½é–‹ç™ºã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã¾ã§ã®å®Œå…¨ãªæµã‚Œ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æŽ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å…¨ä½“åƒï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. æ©Ÿèƒ½é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
git checkout -b feature/my-awesome-feature
# é–‹ç™ºä½œæ¥­...
git add .
git commit -m "feat: add awesome feature"
git push origin feature/my-awesome-feature

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼†ãƒžãƒ¼ã‚¸ãƒ•ã‚§ãƒ¼ã‚º                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
gh pr create --base main --title "Add awesome feature"
# ãƒ¬ãƒ“ãƒ¥ãƒ¼...
# PRãƒžãƒ¼ã‚¸ï¼ˆGitHub UI or gh pr mergeï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ãƒªãƒªãƒ¼ã‚¹ãƒ•ã‚§ãƒ¼ã‚º â† /build-and-release ã‚¹ã‚­ãƒ«ã‚’ä½¿ç”¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
git checkout main
git pull origin main
/build-and-release  # ã“ã®ã‚¹ã‚­ãƒ«ã‚’å®Ÿè¡Œ
# â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã€ã‚¿ã‚°ä½œæˆã€ãƒ“ãƒ«ãƒ‰ã€GitHub Releasesã¸å…¬é–‹
# â†’ ãƒªãƒªãƒ¼ã‚¹ãƒŽãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆï¼ˆPRä¸€è¦§ã€å·®åˆ†ãƒªãƒ³ã‚¯ï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é…ä¿¡                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
- æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼: GitHub Releasesã‹ã‚‰DMGã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼: ã‚¢ãƒ—ãƒªãŒè‡ªå‹•æ›´æ–°ã‚’é€šçŸ¥ï¼ˆå·®åˆ†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼‰
```

**é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ**:
- æ©Ÿèƒ½é–‹ç™ºã¯**å¿…ãšPRã‚’çµŒç”±**ï¼ˆã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½ï¼‰
- ãƒªãƒªãƒ¼ã‚¹ã¯**mainãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ç›´æŽ¥å®Ÿè¡Œ**ï¼ˆè¿…é€Ÿãªé…ä¿¡ï¼‰
- ã‚¿ã‚°ã§**åŽ³å¯†ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**ï¼ˆsemantic versioningï¼‰

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `package.json` - ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- `electron-builder.json` - ãƒ“ãƒ«ãƒ‰è¨­å®š
- `~/.config/gh/hosts.yml` - gh CLIèªè¨¼æƒ…å ±ï¼ˆè‡ªå‹•ä½¿ç”¨ï¼‰
- `dist/` - ãƒ“ãƒ«ãƒ‰æˆæžœç‰©ï¼ˆgitç®¡ç†å¤–ï¼‰

## é–¢é€£ã‚³ãƒžãƒ³ãƒ‰

- `/common-tasks` - é–‹ç™ºã‚¿ã‚¹ã‚¯ã®ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- `/adding-features` - æ–°æ©Ÿèƒ½è¿½åŠ ã®ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
